html
  head
    title Register(student)
    script.
      var tim = 0;
      function reload () {
      tim = setTimeout("location.reload(true);",60000);   // 1 minute
      }
      function canceltimer() {
      window.clearTimeout(tim);  // cancel the timer on each mousemove/click
      reload();  // and restart it
      }
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js')
    script(src='https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.js')
    script(src='https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.js')
<<<<<<< HEAD
    script(src='https://cdnjs.cloudflare.com/ajax/libs/mailcheck/1.1.2/mailcheck.min.js')
    script.
      var domains = ['hotmail.com', 'gmail.com', 'yahoo.com'];
      var topLevelDomains = ["com", "net", "org"];
      window.onload = function() {
        document.getElementById("email").onblur = function() {
          console.log("mailchecking...");
          $(this).mailcheck({
            domains: domains,
            topLevelDomains: topLevelDomains,
            suggested: function(element, suggestion) {
              $("#suggest").html("Did you mean :<b>" + suggestion.full + "</b>");
              },
              empty: function(element) {
                $("#suggest").html("");
              }
              });
            };
      }
      jQuery.validator.addMethod('checkphone', function(value){
        if(/^[0-9]{8}$/.test(value)){
          return true;
         } else{
          return false;
         };
       }, 'Please enter a valid phone number');
    script.
=======
    script.
      jQuery.validator.addMethod('checkphone', function(value){
        if(/^[0-9]{8}$/.test(value)){
          return true;
         } else{
          return false;
         };
       }, 'Please enter a valid phone number');
    script.
>>>>>>> origin/formIntegration
      $(function(){
        $('#register-student').validate({
          rules:{
            name:{
              required:true,
              minlength:5
            },
            username:{
              required:true,
              minlength:5
            },
            password:{
              required:true,
              minlength:8
            },
            confirmPassword:{
              required:true,
              minlength:8,
              equalTo:"#password"
            },
            phoneNumber:{
              checkphone:true
            },
            email:{
              required:true,
              email:true
            },
            DOB:{
              required:true,
              date:true
            },
            school:{
              required:true,
              minlength:3
            }
          },
          messages:{
            name:{
              required: "Please enter name",
              minlength:"Your name must consist atleast 5 characters"
            },
            username:{
              required: "Please enter username",
              minlength:"Your username must consist atleast 5 characters"
            },
            password:{
              required: "Please enter password",
              minlength:"Your password must consist atleast 8 characters"
            },
            confirmPassword:{
              required:"Please enter password",
              minlength:"Your password must consist atleast 8 characters",
              equalTo:"Passwords not match"
            },
            email:{
              required:"Please enter email",
              email:"Please enter a valid email"
            },
            DOB:{
              required:"Please enter your birthdate",
              date:"Please enter a valid date"
            },
            school:{
              required:"Please enter your school",
              minlength:"Please enter a valid school"
            }
          }
        });
      });

  body(onmousemove='canceltimer();', onclick='canceltimer();')
    form#register-student(action='/reg-room', method='post', onsubmit='/validate-register-student')
      input#name(type='text', name='name', placeholder='name', autocomplete="off")
      br
      p
      input#username(type='text', name='username', placeholder='username', autocomplete="off")
      br
      p
      input#email.text(type='email', name='email', placeholder='Email', autocomplete="off")
      br
      p
      p
      input#password(type='password', name='password', placeholder='password')
      br
      p#suggest
      input#confirmPassword(type='password', name='confirmPassword', placeholder='confirmPassword')
      br
      p
      #dateOfBirth
        label(for='dateOfBirth', style='float:left; display:inline;')
          | Date of Birth:
          input#DOB(style='width:230px;', type='date', name='DOB',min='1990-01-01',max='2011-01-15')
      p
      input#school(type='text', name='school', placeholder='school', autocomplete="off")
      br
      p
      input#phoneNumber.checkphone(type='text', name='phoneNumber', placeholder='phoneNumber', autocomplete="off")
      br
      p
      input.submit(style='display:inline-block;', type='submit', value='Submit')
      input.submit(style='display:inline-block;', type='reset', value='Clear')
